<!--
* @UpdateTime : 2021/4/3 5:55 上午
* @description: type some description
* @Author: a27
-->
# 自动发消息模块
## 背景介绍
老师设置好日程，可能包含几个关键属性，发什么，什么时间发，发送对象是谁。
需要做这个自动发消息系统满足老师自动发送的需求，他们可以提前设置好日程，
提高他们的工作效率，免去重复的消息次次手动发送的情形。

## 技术选择
当时公司选择了kafka，所以我们就把kafka当做了队列使用。

## 流程介绍
整个消息发送分了几个步骤：
- 提取消息
- 构建发送model
- 发送

定时脚本每五分钟重复跑提取消息。
提取完毕全都塞进第一个队列给消费者。
在消费者里构建发送的model构建完毕塞进第二个队列给消费者， 消费者执行发送。

## 遇见的问题
### 偶尔会出现大量重复发送


